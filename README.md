# 串口调试助手

一个基于Qt的串口调试工具，用于控制和监控多通道电压系统。

## 功能特点

### 串口通信
- 支持多种波特率（默认115200）
- 支持数据位、校验位、停止位设置
- 实时串口状态显示
- 串口数据实时监控和显示

### 电压控制
- 支持6个通道控制：XP、XI、XQ、YP、YI、YQ
- 电压范围：-9.99V 到 +9.99V
- 实时电压值显示
- 精确到小数点后2位

### 工作模式
- 自动模式：系统自动控制
- 手动模式：可手动设置各通道电压值

## 使用说明

1. 串口设置
   - 选择正确的串口号
   - 设置波特率（默认115200）
   - 设置数据位（默认8位）
   - 设置校验位和停止位

2. 通道控制
   - 选择需要控制的通道（XP/XI/XQ/YP/YI/YQ）
   - 输入目标电压值（-9.99V 到 +9.99V）
   - 点击"发送控制命令"按钮

3. 模式切换
   - 点击"手动模式"按钮切换到自动模式
   - 自动模式下通道控制功能将被禁用

## 通信协议

### 控制命令格式

所有命令均为26位字符串，不足部分补0。

#### 1. 切换到自动模式
- 格式：`10000000000000000000000000`
- 说明：第1位为1表示自动模式，后面全部补0。

#### 2. 切换到手动模式
- 格式：`20000000000000000000000000`
- 说明：第1位为2表示手动模式，后面全部补0。

#### 3. 设置某通道偏压
- 格式：`[模式][符号][通道][电压整数][电压小数1][电压小数2]` + 20个0
    - 第1位：模式（1=自动，2=手动）
    - 第2位：电压符号（0=正，1=负）
    - 第3位：通道号（2=Y下, 3=Y上, 4=X下, 5=X上, 6=Y主, 7=X主）
    - 第4位：电压整数部分（0~9）
    - 第5位：电压小数第一位（0~9）
    - 第6位：电压小数第二位（0~9）
    - 第7-26位：补0
- 示例：`21223000000000000000000000` 表示手动模式，负，通道2，2.30V

#### 4. 设置初值（已隐藏/可选）
- 格式：`3` + 6组`[符号][整数][小数1][小数2]` + 补0
- 说明：第1位为3，后面依次为6个通道的初值，每个通道4位（符号、整数、小数1、小数2），剩余补0。

#### 5. 设置射频功率差
- 格式：`5[xxx][yyy]0000000000000000000000`
    - 第1位：5
    - 第2-4位：当前射频功率差（去掉小数点，3位，不足补0）
    - 第5-7位：目标射频功率差（去掉小数点，3位，不足补0）
    - 第8-26位：补0
- 示例：`50780990000000000000000000` 表示当前7.80，目标9.90

#### 6. 功率差设置使能（由下位机发来，收到后前端解锁功率差设置）
- 格式：`60000000000000000000000000`
- 说明：第1位为6，后面全部补0。收到后前端允许设置功率差。

---

### 返回数据格式

数据以 `"Bias Voltage:"` 开头，后跟6个通道的电压值，顺序为 XI、XQ、XP、YI、YQ、YP，每个电压值之间用逗号分隔。

示例：  
`Bias Voltage:5.600,1.300,1.000,-4.900,-3.100,-4.200`  
= 通道 XI、XQ、XP、YI、YQ、YP 的电压分别为 5.60V、1.30V、1.00V、-4.90V、-3.10V、-4.20V

---

## 系统要求
- Windows 10/11操作系统
- Qt 6.0或更高版本
- 串口驱动

## 开发环境
- Qt 6.8.0
- C++17
- MinGW 13.1.0 64-bit
